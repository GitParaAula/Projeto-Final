@model List<ProjetoFinal.Models.Plano>

@{
    ViewData["Title"] = "Comprar Planos";
}

<link href="@Url.Content("~/css/comprarplanos.css")" rel="stylesheet" />

<video autoplay loop muted playsinline class="bg-video">
    <source src="@Url.Content("~/videos/wavesplayback.mp4")" type="video/mp4" />
</video>

<div class="comprar-container">
    <div class="comprar-card">

        <h2 class="comprar-titulo">Comprar Planos</h2>

        <!-- CAMPO DE BUSCA -->
        <form method="get" asp-controller="ComprarPlano" asp-action="Index" class="comprar-form">
            <input type="text" name="nome" placeholder="Digite o nome do plano" />
            <button type="submit">Buscar</button>
        </form>

        <!-- TABELA DE PLANOS -->
        <table class="comprar-tabela">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Valor (R$)</th>
                    <th>Duração</th>
                    <th>Requisitos</th>
                    <th>Ação</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var p in Model)
                {
                    <tr>
                        <td>@p.Nome</td>
                        <td>@p.Valor.ToString("F2")</td>
                        <td>@p.Duracao.ToString("dd/MM/yyyy")</td>
                        <td>@p.Requisitos</td>
                        <td>
                            <a class="btn-comprar"
                               asp-controller="Pagamento"
                               asp-action="Cadastrar"
                               asp-route-id="@p.Codigo_Plano">
                                Comprar
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        <a class="btn-voltar" asp-controller="Gerenciar" asp-action="Gerenciar">Voltar</a>

    </div>
</div>
